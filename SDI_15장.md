# 요구사항
- 파일업로드시 모든 단말에서 동기화 되어야 한다.
- 파일 갱신시 이력조회가 되어야 한다.
- 파일 공유가 가능해야 한다.
- 파일 사이즈 제한은 10GB
- DAU 기준 천만명

<br>
<br>

# 기본 구조
FE -> LB -> API 서버(Stateless) -> Redis Cluster -> mongoDB (Shard Mode)

<br>
<br>

# 파일 업로드

## (1) FE -> 업로드 서버
- 다양한 클라이언트를 지원해야 하므로 HTTP API 방식으로만 업로드를 지원한다.
- 버퍼의 용도로 NAS가 존재하고 있고 업로드가 완료되면 암축하여 클라우드 저장소로 업로드한다. (3벌의 복재본 제공, IDC 이중화 제공)
- 하나의 파일을 동시에 갱신할 경우 충돌이 발생할수 있으므로 업로드 전후로 논리적인 락을 구현한다.
- 공유기능과 다운로드 처리는 클라우드 저장소에 위임한다.


