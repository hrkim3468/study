# 요구사항
- 빠른 비디오 업로드
- 원활한 비디오 재생
- 재생 품질 선택 가능
- 낮은 인프라 비용
- 높은 가용성과 규모 확장성, 그리고 안정성
- 지원 클라이언트 : 모바일웹, 웹브라우저, 스마트TV
- DAU 기준 5백만명

<br>
<br>

# 기본 구조
FE -> LB -> API 서버(Stateless) -> Redis Cluster -> mongoDB (Shard Mode)

<br>
<br>

# 영상 업로드

## (1) FE -> 업로드 서버
-  다양한 클라이언트를 지원해야 하므로 HTTP API 방식으로만 업로드를 지원한다.

## (2) 업로드 서버 -> CDN
- H.264 코덱으로 트랜스코딩 작업을 수행한다.
- 영상의 첫번째 프레임을 추출하여 썸네일을 생성한다.
- 해상도별로 제공할 파일을 인코딩한다. (MP4/480P, MP4/720P, MP4/1080P, MP4/4K)
- 인코딩이 완료되면 CDN으로 배포한다.
- 배포된 정보를 Publish 한다.
- 컨수머들은 해당정보를 저장하고 화면으로 노출될 수 있도록 섬네일을 공개한다.

# 영상 시청
- 글로벌 CDN을 사용하여 레이던시 문제를 회피한다.
- 스트리밍 방식으로 디코딩이 될수 있도록 서비스를 구성하여 불필요한 트래픽을 줄인다.
